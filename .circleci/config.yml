version: 2

jobs:
  test:
    working_directoy: /strass
    docker:
    - image: bersace/strass-sdk@sha256:4741652732bcc5d64a1b9fc003924a54e3f96a0834c83311f8d2f7bf786406bc
      environment:
        STRASS_SELENIUM: http://localhost:4444/wd/hub
        STRASS_TEST_SERVER: http://localhost:9000
    - image: selenium/standalone-firefox@sha256:749fb5cc781aa50e78595cb669f242b305603feeda35d0c8860d13a63aace835
    steps:
    - checkout
    - run:
        name: Tester
        command: |
          env|sort
          make clean test

workflows:
  version: 2
  pipeline:
    jobs:
    - test
